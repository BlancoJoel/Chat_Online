:root {
    color-scheme: dark;
    font-family: "Manrope", "Segoe UI", sans-serif;
    --fondo: #24010f;
    --panel-izq: linear-gradient(135deg, #ff3366, #8f0037);
    --panel-der: linear-gradient(135deg, #3d0b1e, #18000b);
    --degradado: linear-gradient(135deg, #ff4d6d, #ff9e00);
    --texto: #ffeef3;
    --muted: #ff8fa3;
    --borde: rgba(255, 77, 109, 0.45);
    --hover: rgba(255, 77, 109, 0.25);
    --propio: linear-gradient(135deg, rgba(255, 77, 109, 0.75), rgba(255, 158, 0, 0.55));
    --ajeno: rgba(61, 11, 30, 0.8);
    --btn: linear-gradient(135deg, #ff4d6d, #ff9e00);
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

body {
    margin: 0;
    min-height: 100vh;
    background:
        radial-gradient(circle at 15% 20%, rgba(255, 77, 109, 0.45), transparent 55%),
        radial-gradient(circle at 80% 10%, rgba(255, 158, 0, 0.35), transparent 50%),
        var(--fondo);
    color: var(--texto);
    display: flex;
    flex-direction: column;
}

a {
    color: inherit;
    text-decoration: none;
}

header,
main,
footer {
    width: 100%;
}

.barra-superior {
    background: rgba(30, 4, 13, 0.9);
    border-bottom: 1px solid var(--borde);
    padding: 18px 32px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    backdrop-filter: blur(18px);
    box-shadow: 0 14px 32px rgba(0, 0, 0, 0.55);
}

.usuario-actual {
    display: flex;
    gap: 12px;
    align-items: center;
}

.avatar {
    width: 48px;
    height: 48px;
    border-radius: 16px;
    background: var(--degradado);
    color: #2b040e;
    display: grid;
    place-items: center;
    font-weight: 700;
    box-shadow: 0 16px 38px rgba(255, 77, 109, 0.4);
}

.btn-salir {
    background: transparent;
    color: var(--muted);
    border: 1px solid var(--borde);
    padding: 10px 18px;
    border-radius: 999px;
    cursor: pointer;
    transition: 180ms ease;
}

.btn-salir:hover {
    color: var(--texto);
    border-color: rgba(255, 158, 0, 0.7);
}

.layout {
    display: grid;
    grid-template-columns: 340px 1fr;
    height: calc(100vh - 80px);
}

.lista-conversaciones {
    background: var(--panel-izq);
    border-right: 1px solid var(--borde);
    display: flex;
    flex-direction: column;
    box-shadow: inset -6px 0 18px rgba(0, 0, 0, 0.3);
}

.buscador {
    padding: 20px;
}

.buscador input {
    width: 100%;
    border: none;
    border-radius: 16px;
    background: rgba(38, 6, 16, 0.9);
    color: var(--texto);
    padding: 12px 16px;
    box-shadow: inset 0 0 0 1px rgba(255, 158, 0, 0.25);
}

.conversaciones {
    padding: 10px;
    display: grid;
    gap: 10px;
    overflow-y: auto;
}

.item-conversacion {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: 14px;
    align-items: center;
    padding: 14px;
    border-radius: 18px;
    background: rgba(38, 6, 16, 0.78);
    border: 1px solid transparent;
    transition: 160ms ease;
}

.item-conversacion:hover,
.item-conversacion.activo {
    border-color: rgba(255, 77, 109, 0.5);
    background: var(--hover);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.25);
}

.item-conversacion .avatar {
    width: 44px;
    height: 44px;
    border-radius: 14px;
    background: linear-gradient(135deg, rgba(255, 77, 109, 0.8), rgba(255, 158, 0, 0.65));
    color: #2b040e;
    font-weight: 700;
    display: grid;
    place-items: center;
}

.contador {
    min-width: 24px;
    height: 24px;
    border-radius: 999px;
    background: rgba(255, 158, 0, 0.9);
    color: #2b040e;
    display: grid;
    place-items: center;
    font-weight: 700;
    font-size: 0.75rem;
}

.panel-chat {
    background: var(--panel-der);
    display: grid;
    grid-template-rows: auto 1fr auto;
    box-shadow: inset 6px 0 18px rgba(0, 0, 0, 0.35);
}

.cabecera-chat {
    padding: 24px 32px;
    border-bottom: 1px solid var(--borde);
    background: rgba(30, 4, 13, 0.75);
    backdrop-filter: blur(18px);
}

.historial {
    padding: 30px 36px;
    display: grid;
    gap: 18px;
    overflow-y: auto;
}

.burbuja {
    max-width: min(70%, 520px);
    display: grid;
    gap: 8px;
    padding: 16px 18px;
    border-radius: 22px;
    font-size: 0.97rem;
    line-height: 1.5;
    box-shadow: 0 14px 32px rgba(0, 0, 0, 0.35);
}

.burbuja.propio {
    margin-left: auto;
    background: var(--propio);
    color: #fff0f5;
    border: 1px solid rgba(255, 158, 0, 0.45);
}

.burbuja.otro {
    background: var(--ajeno);
    border: 1px solid rgba(255, 77, 109, 0.35);
    color: var(--texto);
}

.burbuja .meta {
    display: flex;
    justify-content: space-between;
    font-size: 0.75rem;
    color: var(--muted);
}

.enviar {
    padding: 22px 32px;
    border-top: 1px solid var(--borde);
    background: rgba(30, 4, 13, 0.85);
    backdrop-filter: blur(12px);
}

.enviar form {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 16px;
}

.enviar textarea {
    resize: none;
    border: none;
    border-radius: 18px;
    padding: 14px 18px;
    background: rgba(45, 8, 20, 0.92);
    color: var(--texto);
    min-height: 64px;
    box-shadow: inset 0 0 0 1px rgba(255, 77, 109, 0.2);
}

.enviar button {
    border: none;
    border-radius: 16px;
    padding: 16px 26px;
    font-weight: 600;
    color: #2b040e;
    background: var(--btn);
    cursor: pointer;
    box-shadow: 0 20px 34px rgba(255, 77, 109, 0.35);
    transition: 150ms ease;
}

.enviar button:hover {
    transform: translateY(-1px);
    box-shadow: 0 24px 40px rgba(255, 77, 109, 0.45);
}

body::before,
body::after {
    content: "ðŸ”¥";
    position: fixed;
    z-index: 0;
    font-size: 72px;
    opacity: 0.45;
    color: transparent;
    text-shadow: 0 0 22px rgba(255, 77, 109, 0.8);
    animation: flameFloat 9s ease-in-out infinite;
    pointer-events: none;
}

body::before {
    top: 12%;
    left: 6%;
}

body::after {
    bottom: 14%;
    right: 8%;
    animation-delay: 4s;
}

@keyframes flameFloat {
    0%, 100% { transform: translateY(0) rotate(-4deg); opacity: 0.32; }
    50% { transform: translateY(-14px) rotate(6deg); opacity: 0.44; }
}

@media (max-width: 1024px) {
    .layout {
        grid-template-columns: 1fr;
    }
    .lista-conversaciones {
        display: none;
    }
    .panel-chat {
        height: calc(100vh - 80px);
    }
}

.barra-superior,
.layout {
    position: relative;
    z-index: 1;
}

.acciones-barra {
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-amigos {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
}

.btn-amigos img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 8px;
}